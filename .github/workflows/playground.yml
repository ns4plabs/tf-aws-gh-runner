name: Playground

on:
  workflow_dispatch:
  push:
    paths:
      - .github/workflows/playground.yml

jobs:
  playground:
    name: Play
    runs-on: ["self-hosted", "windows", "x64", "playground"]
    steps:
      - run: $env:path -split ";"
      - run: |
          $systemPath = [System.Environment]::GetEnvironmentVariable("Path", "Machine")
          $newSystemPath = "$systemPath;C:\Program Files\Git\usr\bin"
          [System.Environment]::SetEnvironmentVariable("Path", $newSystemPath, "Machine")
      - run: choco install msys2 powershell-core -y
      - run: ls "C:\"
      - run: ls "C:\tools
        shell: bash
